<!DOCTYPE html>
   <head>
      <title>{{ title }}</title>
      <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
      <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
      <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
      <script>
      $(document).ready(function(){
        
        $('[data-slider]').slider({
          value: 5,
          min: 0,
          max: 32,
          step: 1,
          slide: function( event, ui ) {
            callApi('only', [ui.value, 1]);
            }
        });
        
        // setup button click handlers
        $('[data-action]').click(function(item){
          var action = $(this).data('action');
          // make an AJAX call to the proper API route
          callApi(action);
        });
        
        function callApi(action, arguments, cb){
          var path = '/api/' + action;
          path += arguments ? '/' + arguments.join(',') : '';
          
          $.getJSON(path, function(ret){
            console.log(ret);
            if(cb) cb(ret); // do a callback if you want it
          });
        }
      });
      </script>
   </head>

   <body>
      <h1>Welcome to the EOS control panel</h1>
      <h2>The date and time on the server is: {{ time }}</h2>
      <p>
        <button data-action="allon">Turn all lights on</button>
        <button data-action="alloff">Turn all lights off</button>
        <div data-slider></div>
      </p>
   </body>
</html>